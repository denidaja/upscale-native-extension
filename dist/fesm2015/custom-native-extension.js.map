{"version":3,"file":"custom-native-extension.js","sources":["../../projects/custom-native-extension/src/lib/custom-native-extension.service.ts","../../projects/custom-native-extension/src/lib/custom-native-extension.component.ts","../../projects/custom-native-extension/src/lib/custom-native-extension.component.html","../../projects/custom-native-extension/src/lib/custom-native-extension.module.ts","../../projects/custom-native-extension/src/public-api.ts","../../projects/custom-native-extension/src/custom-native-extension.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CustomNativeExtensionService {\n\n  constructor() { }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {ProductService,} from \"@upscale/service-client-angular\";\n\n@Component({\n  selector: 'lib-custom-native-extension',\n  templateUrl: \"./custom-native-extension.component.html\",\n  styleUrls: ['./custom-native-extension.component.scss'],\n})\n\nexport class CustomNativeExtensionComponent implements OnInit {\n  timesBought: string = null;\n\n  constructor(\n    private productService: ProductService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    let tokenizedURL = window.location.href.split(\"/\");\n    let productId = tokenizedURL[tokenizedURL.length - 1];\n\n    this.productService.getProductById(productId).subscribe((product) => {\n      if (!product[\"attributeSets\"][0]) {\n        setTimeout(() => {\n          this.timesBought = null;\n        }, 0)\n      } else {\n        setTimeout(() => {\n          this.timesBought = product.attributeSets[0].values[0].value;\n        }, 0)\n      }\n    });\n  }\n}\n","<div *ngIf=\"timesBought\" class=\"times-bought-container\">\n  <p class=\"times-bought-text\">\n    ðŸ”¥ðŸ”¥ This product has been bought {{timesBought}} times in the last 24 hours.\n  </p>\n</div>\n","import {NgModule} from '@angular/core';\nimport {CustomNativeExtensionComponent} from './custom-native-extension.component';\nimport {RegistrationService} from '@upscale/web-storefront-sdk';\nimport {CommonModule} from \"@angular/common\";\n\n@NgModule({\n  declarations: [CustomNativeExtensionComponent],\n  imports: [\n    CommonModule\n  ],\n  exports: [CustomNativeExtensionComponent]\n})\nexport class UpscaleExtensionModule {\n  constructor(private registrationServices: RegistrationService,) {\n    // the value 'my-custom-component' has to be defined used in Workbench as the Native Extension \"Key\"\n    this.registrationServices.register('my-custom-component', CustomNativeExtensionComponent);\n  }\n}\n","/*\n * Public API Surface of custom-native-extension\n */\n\nexport * from './lib/custom-native-extension.service';\nexport * from './lib/custom-native-extension.component';\nexport * from './lib/custom-native-extension.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;;MAKa,4BAA4B;IAEvC,iBAAiB;;yHAFN,4BAA4B;6HAA5B,4BAA4B,cAF3B,MAAM;2FAEP,4BAA4B;kBAHxC,UAAU;mBAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;MCKY,8BAA8B;IAGzC,YACU,cAA8B;QAA9B,mBAAc,GAAd,cAAc,CAAgB;QAHxC,gBAAW,GAAW,IAAI,CAAC;KAK1B;IAED,QAAQ;QACN,IAAI,YAAY,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACnD,IAAI,SAAS,GAAG,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAEtD,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,OAAO;YAC9D,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE;gBAChC,UAAU,CAAC;oBACT,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;iBACzB,EAAE,CAAC,CAAC,CAAA;aACN;iBAAM;gBACL,UAAU,CAAC;oBACT,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;iBAC7D,EAAE,CAAC,CAAC,CAAA;aACN;SACF,CAAC,CAAC;KACJ;;2HAvBU,8BAA8B;+GAA9B,8BAA8B,mECT3C,0NAKA;2FDIa,8BAA8B;kBAN1C,SAAS;mBAAC;oBACT,QAAQ,EAAE,6BAA6B;oBACvC,WAAW,EAAE,0CAA0C;oBACvD,SAAS,EAAE,CAAC,0CAA0C,CAAC;iBACxD;;;MEKY,sBAAsB;IACjC,YAAoB,oBAAyC;QAAzC,yBAAoB,GAApB,oBAAoB,CAAqB;;QAE3D,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,qBAAqB,EAAE,8BAA8B,CAAC,CAAC;KAC3F;;mHAJU,sBAAsB;oHAAtB,sBAAsB,iBANlB,8BAA8B,aAE3C,YAAY,aAEJ,8BAA8B;oHAE7B,sBAAsB,YALxB;YACP,YAAY;SACb;2FAGU,sBAAsB;kBAPlC,QAAQ;mBAAC;oBACR,YAAY,EAAE,CAAC,8BAA8B,CAAC;oBAC9C,OAAO,EAAE;wBACP,YAAY;qBACb;oBACD,OAAO,EAAE,CAAC,8BAA8B,CAAC;iBAC1C;;;ACXD;;;;ACAA;;;;;;"}